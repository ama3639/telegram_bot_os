# ุฑุจุงุช ุชูฺฏุฑุงู ูุฏููุงุฑ ฺูุฏููุธูุฑู

![Python Version](https://img.shields.io/badge/Python-3.9%2B-blue)
![License](https://img.shields.io/badge/License-MIT-green)
![Python-Telegram-Bot](https://img.shields.io/badge/PTB-20.7-blue)

ุงู ฺฉ ูพุฑูฺู ุฑุจุงุช ุชูฺฏุฑุงู ูุฏููุงุฑุ ุฌุงูุน ู ุงูุนุทุงูโูพุฐุฑ ุงุณุช ฺฉู ุจุง ุงุณุชูุงุฏู ุงุฒ ุฒุจุงู ูพุงุชูู ู ฺฉุชุงุจุฎุงูู python-telegram-bot ูุณุฎู 20.7 ุณุงุฎุชู ุดุฏู ุงุณุช. ุงู ุฑุจุงุช ูุงุจูุช ุงุฑุชุจุงุท ุจุง APIโูุง ูุฎุชููุ ุฐุฎุฑูโุณุงุฒ ุฏุงุฏู ู ูพุฑุฏุงุฒุด ุฏุฑุฎูุงุณุชโูุง ูพฺุฏู ุฑุง ุฏุงุฑุฏ.

## ูฺฺฏโูุง

- ๐ ุณุงุฎุชุงุฑ ูุฏููุงุฑ ู ุงูุนุทุงูโูพุฐุฑ
- ๐ ูพุดุชุจุงู ุงุฒ ฺูุฏู ุฒุจุงู (ูุงุฑุณุ ุงูฺฏูุณุ ุนุฑุจุ ุชุฑฺฉ ู...)
- ๐ ุณุณุชู ุงุญุฑุงุฒ ููุช ู ุณุทูุญ ุฏุณุชุฑุณ
- ๐ฐ ุณุณุชู ูพุฑุฏุงุฎุช ู ุงุดุชุฑุงฺฉ
- ๐ ูพุดุชุจุงู ุงุฒ APIโูุง ูุฎุชูู (ุจุงููุณุ ฺฉูฺฉูู ู...)
- ๐ ุณุณุชู ฺฏุฒุงุฑุดโฺฏุฑ ู ุขูุงุฑ
- ๐ฑ ุฑุงุจุท ฺฉุงุฑุจุฑ ุชูฺฏุฑุงู ฺฉุงุฑุขูุฏ
- ๐ ุณุณุชู ูพุดุชุจุงูโฺฏุฑ ุฎูุฏฺฉุงุฑ
- ๐ง ุขูุงุฏู ุจุฑุง ุงุชุตุงู ุจู ุณุณุชูโูุง ููุด ูุตููุน

## ุณุงุฒฺฏุงุฑ ุจุง ูุณุฎู ฒฐ.ท ฺฉุชุงุจุฎุงูู python-telegram-bot

ุงู ุฑุจุงุช ุจุง ูุณุฎู ฒฐ.ท ฺฉุชุงุจุฎุงูู python-telegram-bot ุณุงุฒฺฏุงุฑ ุดุฏู ุงุณุช. ุชุบุฑุงุช ุงุตู ุนุจุงุฑุชูุฏ ุงุฒ:

- ุงุณุชูุงุฏู ุงุฒ ุณุงุฎุชุงุฑ ููู `Application` ุจู ุฌุง `Updater` ู `Dispatcher`
- ูพุงุฏูโุณุงุฒ ุชูุงู ูุชุฏูุง ุงุฑุชุจุงุท ุจุง ุชูฺฏุฑุงู ุจู ุตูุฑุช ูุงููฺฏุงู (`async/await`)
- ุชุบุฑ ุฏุฑ ููุชุฑูุง ู ูุญูู ุซุจุช ููุฏูุฑูุง
- ูพุดุชุจุงู ุงุฒ ุฑูุดโูุง ุฌุฏุฏ ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุฏุฑ ุญุงูุช polling ุง webhook

## ูพุดโูุงุฒูุง

- Python 3.9+
- pip (ุจุฑุง ูุตุจ ูุงุจุณุชฺฏโูุง)
- ุชูฺฉู ุฑุจุงุช ุชูฺฏุฑุงู
- ฺฉุชุงุจุฎุงูู python-telegram-bot ูุณุฎู ฒฐ.ท+

## ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ุฏุฑุงูุช ฺฉุฏ ููุจุน

```bash
git clone https://github.com/yourusername/telegram-modular-bot.git
cd telegram-modular-bot
```

### 2. ุงุฌุงุฏ ูุญุท ูุฌุงุฒ (ุงุฎุชุงุฑ ุงูุง ุชูุตู ูโุดูุฏ)

```bash
python -m venv venv
# ุฏุฑ ูููฺฉุณ/ูฺฉ
source venv/bin/activate
# ุฏุฑ ููุฏูุฒ
venv\Scripts\activate
```

### 3. ูุตุจ ูุงุจุณุชฺฏโูุง

```bash
pip install -r requirements.txt
```

### 4. ุชูุธู ูุงู .env

ูุงู `.env.example` ุฑุง ุจู `.env` ุชุบุฑ ูุงู ุฏุงุฏู ู ุขู ุฑุง ุจุง ุงุทูุงุนุงุช ุฎูุฏ ูพุฑ ฺฉูุฏ:

```
TELEGRAM_BOT_TOKEN=7827540568:AAGLYFfEynhXldW6w4-1X2qMMn3VcTxDMvM
ADMIN_IDS=1517662886
...
```

### 5. ุงุฌุฑุง ุฑุจุงุช

```bash
python __main__.py
```

ุง ุจุง ฺฏุฒูู ุฏุจุงฺฏ ุจุฑุง ฺฏุฒุงุฑุดโูุง ุจุดุชุฑ:

```bash
python __main__.py --debug
```

## ููููู ฺฉุฏ ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช

```python
from telegram.ext import Application

# ููููู ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช ุจุง ุณุงุฎุชุงุฑ ุฌุฏุฏ
async def main():
    application = Application.builder().token(TOKEN).build()
    
    # ุงูุฒูุฏู ููุฏูุฑูุง
    application.add_handler(...)
    
    # ุฑุงูโุงูุฏุงุฒ ุฑุจุงุช
    await application.run_polling()

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
```

## ุณุงุฎุชุงุฑ ูพุฑูฺู

```
project_bot_medular/
โโโ 1. data/                      # ุฏุงุฏูโูุง ุฐุฎุฑู ุดุฏู
โโโ 2. deployment/                # ูุงูโูุง ูุฑุจูุท ุจู ุงุณุชูุฑุงุฑ
โโโ 3. locales/                   # ูุงูโูุง ุชุฑุฌูู
โโโ 4. logs/                      # ูุงูโูุง ูุงฺฏ ุณุณุชู
โโโ 5. src/                       # ฺฉุฏ ููุจุน ูพุฑูฺู
โ   โโโ 5.1. api/                 # ุฑุงุจุทโูุง API
โ   โโโ 5.2. accounting/          # ูุงฺูู ูุฏุฑุช ูุงู
โ   โโโ 5.3. core/                # ูุณุชู ุงุตู ุจุฑูุงูู
โ   โโโ 5.4. handlers/            # ููุฏูุฑูุง ุชูฺฏุฑุงู
โ   โโโ 5.5. models/              # ูุฏูโูุง ุฏุงุฏู
โ   โโโ 5.6. strategies/          # ุงุณุชุฑุงุชฺโูุง ุชุญูู
โ   โโโ 5.7. utils/               # ุชูุงุจุน ฺฉูฺฉ
โ   โโโ 5.8. __init__.py          # ูุงู ุขุบุงุฒฺฏุฑ ูพฺฉุฌ
โ   โโโ 5.9. main.py              # ูุงู ุงุตู ุจุฑูุงูู
โโโ 6. tests/                     # ุชุณุชโูุง ุจุฑูุงูู
โโโ 7. tools/                     # ุงุจุฒุงุฑูุง ุชูุณุนู ู ูฺฏูุฏุงุฑ
โโโ 8. docs/                      # ูุณุชูุฏุงุช ูพุฑูฺู
โโโ 9. cache/                     # ูุงูโูุง ฺฉุด ูููุช
โโโ 10. .env                      # ูุงู ุชูุธูุงุช ูุญุท (ูุญุฑูุงูู)
โโโ 11. .env.example              # ููููู ูุงู ุชูุธูุงุช
โโโ 12. .gitignore                # ูุงูโูุง ูุงุฏุฏู ฺฏุฑูุชู ุดุฏู ุฏุฑ ฺฏุช
โโโ 13. LICENSE                   # ูุงู ูุฌูุฒ ุงุณุชูุงุฏู
โโโ 14. README.md                 # ูุณุชูุฏุงุช ูพุฑูฺู (ุงู ูุงู)
โโโ 15. requirements.txt          # ูุงุจุณุชฺฏโูุง ูพุฑูฺู
โโโ 16. __main__.py               # ููุทู ูุฑูุฏ ุงุตู ุจุฑูุงูู
```

## ุฏุณุชูุฑุงุช ุฑุจุงุช

- `/start` - ุดุฑูุน ุงุณุชูุงุฏู ุงุฒ ุฑุจุงุช
- `/help` - ููุงุด ุฑุงูููุง ุงุณุชูุงุฏู
- `/about` - ุงุทูุงุนุงุช ุฏุฑุจุงุฑู ุฑุจุงุช
- `/profile` - ูุดุงูุฏู ูพุฑููุงู ฺฉุงุฑุจุฑ
- `/settings` - ุชูุธูุงุช ุฑุจุงุช
- `/subscribe` - ุฎุฑุฏ ุงุดุชุฑุงฺฉ
- `/contact` - ุงุฑุชุจุงุท ุจุง ูพุดุชุจุงู
- `/language` - ุชุบุฑ ุฒุจุงู ุฑุจุงุช

### ุฏุณุชูุฑุงุช ุงุฏูู

- `/admin` - ูพูู ูุฏุฑุช
- `/stats` - ุขูุงุฑ ุฑุจุงุช
- `/users` - ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- `/broadcast` - ุงุฑุณุงู ูพุงู ุจู ฺฉุงุฑุจุฑุงู
- `/status` - ูุถุนุช ุณุณุชู
- `/extend_subscription` - ุชูุฏุฏ ุงุดุชุฑุงฺฉ ฺฉุงุฑุจุฑุงู

## ุชูุณุนู ู ุงูุฒูุฏู ูุงุจูุชโูุง ุฌุฏุฏ

ุจุฑุง ุงูุฒูุฏู ูุงุจูุชโูุง ุฌุฏุฏุ ูโุชูุงูุฏ:

1. ุฏุฑ ูพูุดู `handlers` ููุฏูุฑูุง ุฌุฏุฏ ุงุถุงูู ฺฉูุฏ (ุชูุฌู ฺฉูุฏ ฺฉู ุชูุงู ุชูุงุจุน ููุฏูุฑ ุจุงุฏ `async` ุจุงุดูุฏ)
2. ุฏุฑ ูพูุดู `api` ุฑุงุจุทโูุง API ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ
3. ุฏุฑ ูพูุดู `utils` ุชูุงุจุน ฺฉูฺฉ ุฌุฏุฏ ุจููุณุฏ

ููฺูู ูโุชูุงูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ ุณุณุชู ูพูุงฺฏูุ ูุงุจูุชโูุง ุฎูุฏ ุฑุง ุฏุฑ ูุงูุจ ูพูุงฺฏู ุชูุณุนู ุฏูุฏ.

## ูฺฉุงุช ููู ุฏุฑ ุงุณุชูุงุฏู ุงุฒ ูุณุฎู 20.7 ฺฉุชุงุจุฎุงูู

- ุชูุงู ุชูุงุจุน ููุฏูุฑ ุจุงุฏ ุจู ุตูุฑุช `async def` ุชุนุฑู ุดููุฏ.
- ุจุฑุง ุฏุณุชุฑุณ ุจู ุขูพุฏุช ู ฺฉุงูุชฺฉุณุช ุงุฒ ูพุงุฑุงูุชุฑูุง `Update` ู `ContextTypes.DEFAULT_TYPE` ุงุณุชูุงุฏู ฺฉูุฏ.
- ุงุณุชูุงุฏู ุงุฒ `filters` ุจู ุฌุง `Filters` ุฏุฑ ูุณุฎู ุฌุฏุฏ.
- ุงุณุชูุงุฏู ุงุฒ `await` ุจุฑุง ุชูุงู ูุฑุงุฎูุงูโูุง API ุชูฺฏุฑุงู.

## ููุงุฌุฑุช ุจู SQL

ุงู ูพุฑูฺู ุฏุฑ ุญุงู ุญุงุถุฑ ุงุฒ SQLite ุงุณุชูุงุฏู ูโฺฉูุฏุ ุงูุง ุจุฑุง ููุงุฌุฑุช ุจู ุณุงุฑ ูพุงฺฏุงูโูุง ุฏุงุฏู ูุงููุฏ MySQL ุง PostgreSQL:

1. ุชูุธูุงุช `DATABASE_URL` ุฑุง ุฏุฑ ูุงู `.env` ุชุบุฑ ุฏูุฏ
2. ุงุฒ ุงุณฺฉุฑูพุชโูุง ููุงุฌุฑุช ุฏุฑ ูพูุดู `tools/db_migration` ุงุณุชูุงุฏู ฺฉูุฏ

## ุงุฑุชุจุงุท ุจุง ููุด ูุตููุน

ุจุฑุง ูุนุงู ฺฉุฑุฏู ูุงุจูุชโูุง ููุด ูุตููุน:

1. ุชูุธู `ENABLE_ML=True` ุฏุฑ ูุงู `.env`
2. ุงูุฒูุฏู ูุฏูโูุง ููุด ูุตููุน ุฏุฑ ูพูุดู `src/strategies/machine_learning`

## ุฒูุงูุจูุฏ ูุธุงู

ุจุฑุง ุงุณุชูุงุฏู ุงุฒ ูุธุงู ุฒูุงูุจูุฏ ุดุฏู (ูุงููุฏ ุงุฏุขูุฑ ุจู ฺฉุงุฑุจุฑุงู) ุงุฒ ูุงุจูุช job queue ุฏุฑ ูุณุฎู 20.7 ุงุณุชูุงุฏู ฺฉูุฏ:

```python
# ุงูุฒูุฏู ุฒูุงูุจูุฏ
application.job_queue.run_repeating(send_inactive_reminder, interval=86400)  # ุงุฌุฑุง ุฑูุฒุงูู
application.job_queue.run_repeating(send_subscription_expiry_reminder, interval=43200)  # ุงุฌุฑุง ูุฑ 12 ุณุงุนุช
```

## ูุณุชูุฏุงุช ุจุดุชุฑ

ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุจู ูพูุดู `docs` ูุฑุงุฌุนู ฺฉูุฏ.

## ูุงุณูุณ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช.